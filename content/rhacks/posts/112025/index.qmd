---
title: "How to Add Images to ggplot Axes Using `ggtext::element_markdown()`"
subtitle: "A practical guide for adding logos, icons, and flags to your plots"
description: "R-Hacks"
author: "Lucio Colonna"
date: "19 November 2025"
images: "images/image-1.png"
series: R-Hacks
categories:
  - ggtext
  - ggplot
layout: single
toc-location: left
toc: true
code-overflow: wrap
execute: 
  warning: false
  message: false
---

## 

*This tip is based on a full **Kaggle notebook**, where this technique is applied in a complete **EDA**: ðŸ”— <https://www.kaggle.com/code/lcolon/football-2023-2024-eda-and-pa-with-logos>*

> **Have you ever needed to show logos, icons, or flags directly on the axes of your ggplot charts?**

You can do this thanks to the `element_markdown()` function from the **{ggtext}** package!

`element_markdown()` is a function that tells `ggplot` to treat labels as HTML instead of plain text, and it must be used in the `theme()` section of your ggplot code.

The chart below shows an example where league logos appear directly on the x-axis. It displays the total number of goals scored in the major **European football leagues during the 2023/2024 season**:

<center>

![European football leagues 2023/2024](images/image-1.png){width="60%"}

</center>

## Exploratory Data Analysis Workflow

Here is a short, practical guide showing how to recreate this plot.

### Step 0: Start from a basic dataframe

In most real situations you will already have a dataframe to work with. Here is the one used in this example:

```{r}
df <- data.frame(
  league = c("Premier League", "La Liga", 
             "Serie A", "Bundesliga", "Ligue 1"),
  goals  = c(1197, 977, 968, 960, 804))

df
```

### Step 1: Choose the images you want to display (PNG recommended)

First decide which images you want to show on your `ggplot` axis. In this example I am using online image **URLs** (including links from **Wikimedia**), but you can use any source that provides a direct image URL, such as files hosted on **GitHub repos** or any public static hosting service. Just make sure the image format is supported â€” typically **PNG** or **JPG/JPEG**.

```{r}
# Define image URLs as variables
premier_url <- "https://upload.wikimedia.org/wikipedia/it/6/6d/Premier_League_Logo_2016.png"
laliga_url <- "https://upload.wikimedia.org/wikipedia/it/9/9b/LFP_La_Liga.png"
seriea_url <- "https://www.fifplay.com/img/public/serie-a-logo.png"
bundes_url <- "https://www.fifplay.com/img/public/bundesliga-logo.png"
ligue1_url <- "https://upload.wikimedia.org/wikipedia/commons/a/a0/Ligue_1_2024_Logo.png"
```

### Step 2: Add a column with HTML <img /> tags

In order to display images on the axis, each image URL must be **wrapped inside an HTML <img /> tag**. This simply means that the URL cannot appear alone â€” it must be placed *inside* the structure:

```{r}
#| eval: false
<img src= + image_url + width='45'/>
```

*Please note that in this example I use width='45' just as a reference size, but you can choose any value depending on how big you want the image to appear in your plot.*

Let's add the column to the df:

```{r}
df$logo <- c(
  paste0("<img src='", premier_url, "' width='45'/>"), 
  paste0("<img src='", laliga_url, "' width='45'/>"), 
  paste0("<img src='", seriea_url, "' width='45'/>"), 
  paste0("<img src='", bundes_url, "' width='45'/>"), 
  paste0("<img src='", ligue1_url, "' width='45'/>")
  )

```

At this point, the dataframe should look like this:

<br>

| league | goals | logo |
|-------------|-------------|-----------------------------------------------|
| Premier League | 1197 | `<img src='https://upload.wikimedia.org/wikipedia/it/6/6d/Premier_League_Logo_2016.png' width='45'/>` |
| La Liga | 977 | `<img src='https://upload.wikimedia.org/wikipedia/it/9/9b/LFP_La_Liga.png' width='45'/>` |
| Serie A | 968 | `<img src='https://www.fifplay.com/img/public/serie-a-logo.png' width='45'/>` |
| Bundesliga | 960 | `<img src='https://www.fifplay.com/img/public/bundesliga-logo.png' width='45'/>` |
| Ligue 1 | 804 | `<img src='https://upload.wikimedia.org/wikipedia/commons/a/a0/Ligue_1_2024_Logo.png' width='45'/>` |

<br>

### Step 3: Plot your data!

Now that the dataframe contains a column of HTML <img /> tags, we can use it directly on the x-axis. The key part is here:

```{r}
#| eval: false
theme( axis.text.x = element_markdown() )
```

`element_markdown()` function is what allows `ggplot` to interpret the HTML in your axis labels. Without it, `ggplot` would show the literal string `<img src='...'>` as plain text. With it, the `<img>` tags are rendered as actual images.

Here is the full plotting code:

```{r}
library(ggplot2)
```

```{r}
options(repr.plot.width = 6, 
        repr.plot.height = 7, 
        warn = -1)
```

```{r}
#| eval: false

ggplot(df, 
       aes(x = reorder(logo, -goals), y = goals)) + 
  geom_col(fill = "forestgreen", width = .8) +
  geom_text(aes(label = goals), vjust = -0.5, size = 4.5) + 
  labs(title = "\nFootball stats 2023/2024",
       subtitle = "Total Goals scored in each League\n" ) + 
  theme_minimal(14) +
  # HTML rendering happens here!!
  theme(axis.text.x = ggtext::element_markdown(), 
         axis.text.y = element_blank(), 
         panel.grid = element_blank(), 
         axis.title = element_blank(), 
         plot.title = element_text(face = "bold", 
                                   colour = "blue", hjust = 0.05), 
         plot.subtitle= element_text(hjust = 0.05)
         )
```

```{r}
#| eval: false
#| echo: false
ggsave("images/image-2.png", 
       width = 8, height = 6, dpi = 300)
```

With `element_markdown()` applied to `axis.text.x`, ggplot correctly displays the league logos instead of plain text labels â€” exactly like in the plot shown at the beginning.

### In short

1.  Prepare your dataframe (existing or new)
2.  Choose your images (PNG recommended) and store their URLs
3.  Wrap each URL inside an HTML tag with a defined width
4.  Add this HTML column to your dataframe
5.  Map it to the ggplot axis
6.  Enable HTML rendering in plot theme using:

```{r}
#| eval: false
axis.text.x = ggtext::element_markdown()
```

**Thanks for reading!**

::: callout-tip
If you want to stay up to date with the latest events from the Rome R Users Group, you can click here:\
ðŸ‘‰<https://www.meetup.com/rome-r-users-group/>

And if you are curious, the full Kaggle notebook used for this tip is available here: ðŸ”—<https://www.kaggle.com/code/lcolon/football-2023-2024-eda-and-pa-with-logos>
:::
